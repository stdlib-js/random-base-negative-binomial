// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-uint32array@esm/index.mjs";import{isPrimitive as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constant-function@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@v0.0.13-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import{factory as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-poisson@esm/index.mjs";import{factory as h}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-gamma@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/blas-base-gcopy@v0.0.8-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-to-json@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import{isPrimitive as y}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-number@esm/index.mjs";import{isPrimitive as b}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";function x(t,e){return y(t)?!b(e)||w(e)?new TypeError(v("invalid argument. Second argument must be a number and not NaN. Value: `%s`.",e)):e<=0||e>=1?new RangeError(v("invalid argument. Second argument must be on the interval: (0, 1). Value: `%f`.",e)):null:new TypeError(v("0PI7P",t))}function P(){var y,b,v,w,P,E,I,N,T,L;if(I=!0,0===arguments.length)v=l(w={copy:!1});else if(1===arguments.length){if(!r(w=arguments[0]))throw new TypeError(u("0PI2h",w));if(n(w,"copy")&&!o(w.copy))throw new TypeError(u("0PI30","copy",w.copy));if(n(w,"prng")){if(!d(w.prng))throw new TypeError(u("0PI7M","prng",w.prng));v=l({prng:w.prng})}else{if(n(w,"state")&&!i(w.state))throw new TypeError(u("0PI7I","state",w.state));!1===(w=c(w,1)).copy?I=!1:w.state&&(w.state=g(w.state.length,w.state,1,new j(w.state.length),1)),w.copy=!1,v=l(w)}}else{if(N=x(L=arguments[0],T=arguments[1]))throw N;if(arguments.length>2){if(!r(w=arguments[2]))throw new TypeError(u("0PI2h",w));if(n(w,"copy")&&!o(w.copy))throw new TypeError(u("0PI30","copy",w.copy));if(n(w,"prng")){if(!d(w.prng))throw new TypeError(u("0PI7M","prng",w.prng));v=l({prng:w.prng})}else{if(n(w,"state")&&!i(w.state))throw new TypeError(u("0PI7I","state",w.state));!1===(w=c(w,1)).copy?I=!1:w.state&&(w.state=g(w.state.length,w.state,1,new j(w.state.length),1)),w.copy=!1,v=l(w)}}else v=l(w={copy:!1})}return w&&w.prng?y=void 0===L?h({prng:w.prng}):h(L,T/(1-T),{prng:w.prng}):(w.state?b=w.state:(b=v.state,v.state=b),y=void 0===L?h({state:b,copy:!1}):h(L,T/(1-T),{state:b,copy:!1})),P=void 0===L?k:V,E=v.PRNG,t(P,"NAME","negative-binomial"),w&&w.prng?(t(P,"seed",null),t(P,"seedLength",null),s(P,"state",m(null),p),t(P,"stateLength",null),t(P,"byteLength",null),t(P,"toJSON",m(null))):(e(P,"seed",M),e(P,"seedLength",R),s(P,"state",J,A),e(P,"stateLength",S),e(P,"byteLength",G),t(P,"toJSON",O)),t(P,"PRNG",E),P;function M(){return E.seed}function R(){return E.seedLength}function S(){return E.stateLength}function G(){return E.byteLength}function J(){return E.state}function A(t){if(!i(t))throw new TypeError(u("0PI7J",t));I&&(t=g(t.length,t,1,new j(t.length),1)),E.state=t}function O(){var t={type:"PRNG"};return t.name=P.NAME,t.state=f(E.state),t.params=void 0===L?[]:[L,T],t}function V(){return v(y())}function k(t,e){return a(t)||a(e)||e<=0||e>=1?NaN:v(y(t,e/(1-e)))}}var E=P();t(E,"factory",P);export{E as default,P as factory};
//# sourceMappingURL=index.mjs.map
